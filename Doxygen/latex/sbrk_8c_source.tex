\doxysection{sbrk.\+c}
\hypertarget{sbrk_8c_source}{}\label{sbrk_8c_source}\index{C:/WorkSpace/Mercury/Mercury\_vXxxx/Mercury/MAIN/sbrk.c@{C:/WorkSpace/Mercury/Mercury\_vXxxx/Mercury/MAIN/sbrk.c}}
\mbox{\hyperlink{sbrk_8c}{\mbox{[}詳解\mbox{]}}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00001}00001\ \textcolor{comment}{/***********************************************/}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00002}00002\ \textcolor{comment}{/*\ File\ Name\ :\ sbrk.c\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00003}00003\ \textcolor{comment}{/*\ \ Summary\ \ \ :\ Program\ of\ sbrk\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00004}00004\ \textcolor{comment}{/*\ \ Date\ \ \ \ \ \ :\ 2023/03/16\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00005}00005\ \textcolor{comment}{/*\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00006}00006\ \textcolor{comment}{/*\ \ Copyright(c)\ 2023\ Tokyo\ Keiso\ Co.Ltd.\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00007}00007\ \textcolor{comment}{/*\ \ \ \ \ \ \ \ \ \ All\ rights\ reserved\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00008}00008\ \textcolor{comment}{/***********************************************/}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00009}00009\ \textcolor{preprocessor}{\#include\ <stddef.h>}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00010}00010\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00011}00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{typedefine_8h}{typedefine.h}}"{}}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00012}00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sbrk_8h}{sbrk.h}}"{}}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00014}00014\ \mbox{\hyperlink{typedefine_8h_aab65237ca9fbf4192a39cf12dd165942}{\_SBYTE}}\ \ *\mbox{\hyperlink{sbrk_8c_afb395900bf6e112781e9727c9d19c8f6}{sbrk}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_m_e_s_8c_a23e2e8a0e299aac2ef9ea37f3d3519ad}{size}});}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00016}00016\ \textcolor{comment}{//const\ size\_t\ \_sbrk\_size=\ \ \ \ \ \ /*\ Specifies\ the\ minimum\ unit\ of\ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00017}00017\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ the\ defined\ heap\ area\ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00019}00019\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{typedefine_8h_aab65237ca9fbf4192a39cf12dd165942}{\_SBYTE}}\ *\mbox{\hyperlink{sbrk_8c_a62aab80f01c83516e634934f44c1ca60}{\_s1ptr}};}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00021}\mbox{\hyperlink{union_h_e_a_p___t_y_p_e}{00021}}\ \textcolor{keyword}{union\ }\mbox{\hyperlink{union_h_e_a_p___t_y_p_e}{HEAP\_TYPE}}\ \{}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00022}\mbox{\hyperlink{union_h_e_a_p___t_y_p_e_ae5b92762ef523d816fb7533b192708bd}{00022}}\ \ \ \ \ \mbox{\hyperlink{typedefine_8h_a931e4fd9bf350284fc21e94cd5ee126f}{\_SDWORD}}\ \ \mbox{\hyperlink{union_h_e_a_p___t_y_p_e_ae5b92762ef523d816fb7533b192708bd}{dummy}}\ ;\ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Dummy\ for\ 4-\/byte\ boundary\ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00023}\mbox{\hyperlink{union_h_e_a_p___t_y_p_e_a290f96d24091783b332da7451a2e00a5}{00023}}\ \ \ \ \ \mbox{\hyperlink{typedefine_8h_aab65237ca9fbf4192a39cf12dd165942}{\_SBYTE}}\ \mbox{\hyperlink{union_h_e_a_p___t_y_p_e_a290f96d24091783b332da7451a2e00a5}{heap}}[\mbox{\hyperlink{sbrk_8h_a51f6451ae1bc22fdd3c514260bdf2683}{HEAPSIZE}}];\ \ \ \ \textcolor{comment}{/*\ Declaration\ of\ the\ area\ managed\ by\ sbrk\ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00024}00024\ \};}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00026}00026\ \textcolor{keyword}{static}\ \textcolor{keyword}{union\ }\mbox{\hyperlink{union_h_e_a_p___t_y_p_e}{HEAP\_TYPE}}\ heap\_area\ ;}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00028}00028\ \textcolor{comment}{/*\ End\ address\ allocated\ by\ sbrk\ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00029}00029\ \textcolor{keyword}{static}\ \mbox{\hyperlink{typedefine_8h_aab65237ca9fbf4192a39cf12dd165942}{\_SBYTE}}\ *brk=(\mbox{\hyperlink{typedefine_8h_aab65237ca9fbf4192a39cf12dd165942}{\_SBYTE}}\ *)\&heap\_area;}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00031}00031\ \textcolor{comment}{/**************************************************************************/}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00032}00032\ \textcolor{comment}{/*\ \ \ \ \ sbrk:Memory\ area\ allocation\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00033}00033\ \textcolor{comment}{/*\ \ \ \ \ \ \ \ \ \ Return\ value:Start\ address\ of\ allocated\ area\ (Pass)\ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00034}00034\ \textcolor{comment}{/*\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/1\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (Failure)\ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00035}00035\ \textcolor{comment}{/**************************************************************************/}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00036}\mbox{\hyperlink{sbrk_8c_afb395900bf6e112781e9727c9d19c8f6}{00036}}\ \mbox{\hyperlink{typedefine_8h_aab65237ca9fbf4192a39cf12dd165942}{\_SBYTE}}\ \ *\mbox{\hyperlink{sbrk_8c_afb395900bf6e112781e9727c9d19c8f6}{sbrk}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_m_e_s_8c_a23e2e8a0e299aac2ef9ea37f3d3519ad}{size}})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Assigned\ area\ size\ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00037}00037\ \{}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00038}00038\ \ \ \ \ \mbox{\hyperlink{typedefine_8h_aab65237ca9fbf4192a39cf12dd165942}{\_SBYTE}}\ \ *p;}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00040}00040\ \ \ \ \ \textcolor{keywordflow}{if}(brk+\mbox{\hyperlink{_m_e_s_8c_a23e2e8a0e299aac2ef9ea37f3d3519ad}{size}}\ >\ heap\_area.\mbox{\hyperlink{union_h_e_a_p___t_y_p_e_a290f96d24091783b332da7451a2e00a5}{heap}}+\mbox{\hyperlink{sbrk_8h_a51f6451ae1bc22fdd3c514260bdf2683}{HEAPSIZE}})\{\ \ \ \ \ \textcolor{comment}{/*\ Empty\ area\ size\ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00041}00041\ \ \ \ \ \ \ \ \ p\ =\ (\mbox{\hyperlink{typedefine_8h_aab65237ca9fbf4192a39cf12dd165942}{\_SBYTE}}\ *)-\/1;}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00042}00042\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00043}00043\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00044}00044\ \ \ \ \ \ \ \ \ p\ =\ brk;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Area\ assignment\ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00045}00045\ \ \ \ \ \ \ \ \ brk\ +=\ \mbox{\hyperlink{_m_e_s_8c_a23e2e8a0e299aac2ef9ea37f3d3519ad}{size}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ End\ address\ update\ \ \ */}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00046}00046\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00047}00047\ \ \ \ \ \textcolor{keywordflow}{return}\ p;}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00048}00048\ \}}
\DoxyCodeLine{\Hypertarget{sbrk_8c_source_l00049}00049\ }

\end{DoxyCode}
